%script GA
clear all
clc
melhorResultado=3066.7326;
bag=77;
% pop=[[70,29.7270281951004;72,61.5588862764351;3,127.961222133806;46,64.3622685835547;4,138.848786897239;33,55.9616577467738;41,104.736955374302;65,88.2938131777567;49,15.1299215326163;20,61.8592500313352;70,138.706234055025;59,8.33257103108455;44,57.6071319005252;69,36.0960174520444;29,34.1712910410202;27,53.5680580698487;48,138.615384158213;8,75.3747519492216;30,120.485645967857;15,52.5408051961256;63,68.8023766309261;56,142.664499393866;52,19.9475064324273;71,10.5460861492010;64,105.912216260444;43,139.755416351246;2,16.3351370953288;8,97.7545262653752;40,21.9093210521530;74,104.094439284643;65,93.8420433980520;72,6.55850983044572;75,119.688574000967;29,147.931604862574;25,65.5117228594373;61,51.7123281518797;17,7.32091776360337;74,33.7804364063972;72,87.1519378095219;29,90.2063007396209;27,37.8777606708554;54,98.1512489380508;56,9.01433934533980;62,141.075913515114;46,13.8795866651143;8,50.0966896765100;44,97.6574464471688;4,75.5866164545036;59,79.6387710942673;51,56.8685596185233;47,115.336111925778;18,42.3766898669825;55,97.3909108240448;56,138.327573356960;27,49.6007828429395;3,122.015869450020;65,118.145339308267;60,18.6483719166070;40,23.6081321625737;55,62.2497407380423;61,103.099919771005;26,98.6555857575197;71,101.996624515003;45,1.40800155138703;23,19.2914360298505;21,114.585957199427;69,126.287324695993;29,112.042288998463;12,141.678519858323;73,137.957133891958;51,33.4611435419816;76,76.4650782128979;16,118.161029103151;64,78.3677871499623;39,92.6087917449180;46,83.7361051592106;4,109.648803838588;44,9.51031742225263;49,73.9179790227556;39,34.4886057353972;6,50.6086622654882;40,82.7457160684657;5,111.552850805404;65,61.8458318134203;46,76.1427498957837;54,19.3458558885094;50,32.2253484845772;48,43.9244462034349;74,67.4948747345409;14,36.0423174799132;37,39.4895228324426;65,133.737385763764;39,87.9209743135004;59,140.801192654860;15,92.7119815901610;54,37.6078559337697;71,15.3806179178093;13,81.9545851773271;34,66.3968422227174;4,103.725920370528;18,113.915918716846;52,59.9131780087214;67,85.1120098500079;27,30.8375887392093;3,141.529291561991;70,76.9209966988634;37,41.4369903110546;70,34.3709328747810;26,142.939262175279;54,103.413124441603;2,106.180912484612;40,98.5382865042769;26,116.845117270052;27,87.0704333811384;74,75.4845200419687;58,131.809696369700;26,58.9423905246192;49,36.3953261324863;33,42.2439942217819;45,135.715651649791;74,105.401283172951;48,127.958359084963;12,56.8025542194014;65,94.9532446013864;56,4.73352638361170;9,138.005030820757;13,70.4620327403644;24,77.9854779198584;33,114.946816890358;41,50.4324899542012;22,93.8977680319237;64,49.0353011725449;61,46.6660273332543;22,96.9117596796159;48,65.0537448365367;9,15.4329822104039;52,35.4226449977961;27,145.767419386429;52,104.834612448762;23,98.9175383808693;53,48.9146012326892;31,2.97328757863808;31,85.5708887967688;17,5.45023529210668;56,39.7114117305217;63,28.5987651281919;72,67.3949436633030;40,115.298276844444;16,94.1904296096722;47,47.2050439237587]];
% iniciar pop
populacao=[54,103.413124441603;2,16.3351370953288;3,122.015869450020;37,41.4369903110546;26,98.6555857575197;17,7.32091776360337];
[neuronios,neuroCusto]=neuroBegin(populacao,bag,15);
% avaliação
[rank rankCusto]=rankear(neuronios,neuroCusto);
k=100;
for i=1:k
    pais=papais(rank,round(size(neuronios,1)*0.5));
    [neuronios neuroCusto]= recombinar(pais,populacao,size(neuronios,1),neuroCusto);
    valorMutante=round(size(populacao,1)*(0.3));
    [neuronios neuroCusto]=xmen(neuronios,neuroCusto,populacao,valorMutante);
    [rank rankCusto]=rankear(neuronios,neuroCusto); 
    [neuronios neuroCusto]=novaGeracao(rank, rankCusto,0.3,populacao);
end




plotar=[rankCusto(:,1);melhorResultado];
plotar1=ones(size(neuronios,1)+1,1);
for i=1:size(neuronios,1)+1
    plotar1=i;
end
plot([1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16],plotar(:,1));
rankCusto(1,1)